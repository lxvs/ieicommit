#!/bin/bash
jgjclean="clean"
if [ $# -eq 0 ]; then
    jgjStatus=`git status --porcelain`
    if [ -n "${jgjStatus}" ]; then
        echo -e "\nIn case of unintended discard of working tree,\nplease add some argument to confirm the operation,\nwhen there are local changes.\n\ne.g. '\$ jgjustpullit 1' or '\$ jgjustpullit clean'."
        exit
    fi
elif [ "${1:0:${#1}}" == "${jgjclean:0:${#1}}" ]; then
    echo -e "\n> Cleaning...\n"
    git clean -df
elif [ "$1" == "?" ] || [ "$1" == "-?" ] || [ "$1" == "-h" ] || [ "$1" == "--help" ]; then 
    jg
    exit
fi
echo -e "\n> Reseting...\n"
git reset --hard origin/HEAD
echo -e "\n> Pulling...\n"
git pull
